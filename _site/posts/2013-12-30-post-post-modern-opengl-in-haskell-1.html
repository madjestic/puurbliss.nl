<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
    <head>
      <meta charset="utf-8">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <meta name="description" content>
      <meta name="author" content>
      <link rel="shortcut icon" href="docs-assets/ico/favicon.ico">

        <title>PuurBliss.nl - Post-Post Modern OpenGL in Haskell</title>

	<!-- Bootstrap core CSS -->
	<link href="../css/bootstrap.css" rel="stylesheet">

	<!-- Code syntax highlighting CSS -->
	<link href="../css/syntax.css" rel="stylesheet">

	<!-- Custom styles for this template -->
	<link href="../css/carousel.css" rel="stylesheet">
    </head>
<!-- NAVBAR
================================================== -->
    <body>
      <div class="navbar-wrapper">
	<div class="container">

          <div class="navbar navbar-inverse navbar-static-top" role="navigation">
            <div class="container">
              <div class="navbar-header">
		<button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                  <span class="sr-only">Toggle navigation</span>
                  <span class="icon-bar"></span>
                  <span class="icon-bar"></span>
                  <span class="icon-bar"></span>
		</button>
		<a class="navbar-brand" href="#">Project name</a>
              </div>
              <div class="navbar-collapse collapse">
		<ul class="nav navbar-nav">
                  <li class="active"><a href="#">Home</a></li>
                  <li><a href="#about">About</a></li>
                  <li><a href="#contact">Contact</a></li>
                  <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Dropdown <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                      <li><a href="#">Action</a></li>
                      <li><a href="#">Another action</a></li>
                      <li><a href="#">Something else here</a></li>
                      <li class="divider"></li>
                      <li class="dropdown-header">Nav header</li>
                      <li><a href="#">Separated link</a></li>
                      <li><a href="#">One more separated link</a></li>
                    </ul>
                  </li>
		</ul>
              </div>
            </div>
          </div>

	</div>
      </div>


      <!-- Carousel
      ================================================== -->
      <!-- <div id="myCarousel" class="carousel slide" data-ride="carousel"> -->
      <!-- 	<\!-- Indicators -\-> -->
      <!-- 	<ol class="carousel-indicators"> -->
      <!--     <li data-target="#myCarousel" data-slide-to="0" class="active"></li> -->
      <!--     <li data-target="#myCarousel" data-slide-to="1"></li> -->
      <!--     <li data-target="#myCarousel" data-slide-to="2"></li> -->
      <!-- 	</ol> -->
      <!-- 	<div class="carousel-inner"> -->
      <!--     <div class="item active"> -->
      <!--       <img data-src="holder.js/900x500/auto/#777:#7a7a7a/text:First slide" alt="First slide"> -->
      <!--       <div class="container"> -->
      <!--         <div class="carousel-caption"> -->
      <!-- 		<h1>Example headline.</h1> -->
      <!-- 		<p>Note: If you're viewing this page via a <code>file://</code> URL, the "next" and "previous" Glyphicon buttons on the left and right might not load/display properly due to web browser security rules.</p> -->
      <!-- 		<p><a class="btn btn-lg btn-primary" href="#" role="button">Sign up today</a></p> -->
      <!--         </div> -->
      <!--       </div> -->
      <!--     </div> -->
      <!--     <div class="item"> -->
      <!--       <img data-src="holder.js/900x500/auto/#666:#6a6a6a/text:Second slide" alt="Second slide"> -->
      <!--       <div class="container"> -->
      <!--         <div class="carousel-caption"> -->
      <!-- 		<h1>Another example headline.</h1> -->
      <!-- 		<p>Cras justo odio, dapibus ac facilisis in, egestas eget quam. Donec id elit non mi porta gravida at eget metus. Nullam id dolor id nibh ultricies vehicula ut id elit.</p> -->
      <!-- 		<p><a class="btn btn-lg btn-primary" href="#" role="button">Learn more</a></p> -->
      <!--         </div> -->
      <!--       </div> -->
      <!--     </div> -->
      <!--     <div class="item"> -->
      <!--       <img data-src="holder.js/900x500/auto/#555:#5a5a5a/text:Third slide" alt="Third slide"> -->
      <!--       <div class="container"> -->
      <!--         <div class="carousel-caption"> -->
      <!-- 		<h1>One more for good measure.</h1> -->
      <!-- 		<p>Cras justo odio, dapibus ac facilisis in, egestas eget quam. Donec id elit non mi porta gravida at eget metus. Nullam id dolor id nibh ultricies vehicula ut id elit.</p> -->
      <!-- 		<p><a class="btn btn-lg btn-primary" href="#" role="button">Browse gallery</a></p> -->
      <!--         </div> -->
      <!--       </div> -->
      <!--     </div> -->
      <!-- 	</div> -->
      <!-- 	<a class="left carousel-control" href="#myCarousel" data-slide="prev"><span class="glyphicon glyphicon-chevron-left"></span></a> -->
      <!-- 	<a class="right carousel-control" href="#myCarousel" data-slide="next"><span class="glyphicon glyphicon-chevron-right"></span></a> -->
      <!-- </div><\!-- /.carousel -\-> -->



      <!-- Marketing messaging and featurettes
      ================================================== -->
      <!-- Wrap the rest of the page in another container to center all the content. -->

      <div class="container marketing">
					
					<div class="container">
							<!-- content -->
							<div>
									<p class="small"><div> </div>
<div> </div>
<div> </div>
<div> </div>
<div> </div>
<div> </div>

<div class="info">
    Posted on December 30, 2013
    
</div>

<h2 id="post-post-modern-opengl-in-haskell">Post-Post Modern OpenGL in Haskell</h2>
<p><br /><br />For a while my goal was to learn the basics of OpenGL, sufficient for following the <a href="http://www.cs.yale.edu/homes/hudak/SOE/">Haskell School of Expression</a> and just enough to cover the humble requirements of my theoretic graphics application. A side goal is to keep the code base as compact and modern as possible, but not avoiding completely the benefitsof using some syntactic sugar, convenience functions and wrappers, provided by some modern graphics frameworks.</p>
<p>Why not using <a href="http://gloss.ouroborus.net/">GLOSS</a>, some, including myself a while ago, would ask? Though gloss seems to be maturing up and gaining momentum, it has a number of issues: 1) <a href="http://gloss.ouroborus.net/">GLOSS</a> is doing too much for what I need; 2) The code base of gloss was, last time I checked, together with all the dependencies that it is fetching, around 130MB. I feel that 130MB of various dependencies is too much for drawing simple shapes that I need. 3) Gloss is HUGE and has multiple dependencies, not all of which are well maintained and necessarily up to date, which may cause dependency conflicts in your code-base. That happened to me in the past, and I intend not to put myself in the same situation without a good reason any time soon.</p>
<p>On the way towards this goal, I managed to get through first steps, thanks to <a href="http://www.arcadianvisions.com/blog/?p=388">Postmodern Haskell and OpenGL: Introducing vinyl-gl</a>, but there are a few problems with it: 1) Anthony’s code is relying on <a href="http://hackage.haskell.org/package/GLUT">GLUT</a>. The general consensus at the moment is that <a href="http://en.wikipedia.org/wiki/OpenGL_Utility_Toolkit">GLUT is a legacy package</a>, which contradicts my goal of keeping the code base fresh. 2) Anthony’s latest tutorial goals further digress from my goals by putting an accent on using Anthony’s personal <a href="http://hackage.haskell.org/package/vinyl-gl">vynil-gl</a> utility library. My goal is to learn OpenGL, not to use any personal utility libraries, unless it is necessary. 3) The tutorial is failing at the most crucial aspect of a tutorial: gradual increase of complexity – developing more complex examples, based on simpler examples. Instead, <a href="http://www.arcadianvisions.com/blog/?p=388">the second tutorial</a> seems to be disconnected from <a href="http://www.arcadianvisions.com/blog/?p=224">the first</a>. 4) Most important: due to outdated dependencies that Anthony is using in his code, none of his examples compile out of the box and require poking around, which is very frustrating when you hardly know what you are doing and don’t really know if it is your graphics card, or your code, or something else is broken.</p>
<p>Hopefully that explains my decision to come up with my own set of examples and, possibly, turn in into a set of mini-tutorials, that some other adventurous soul may find useful in the future:</p>
<p>Here’s the very first OpenGL Hello World in Haskell. It is using GLFW library as a dependency, instead of GLUT, for the reasons, mentioned above:</p>
<pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="kw">import </span><span class="dt">Graphics.Rendering.OpenGL</span> <span class="kw">as</span> <span class="dt">GL</span>
<span class="kw">import </span><span class="dt">Graphics.UI.GLFW</span> <span class="kw">as</span> <span class="dt">GLFW</span>


<span class="ot">main ::</span> <span class="dt">IO</span> ()
main <span class="fu">=</span> <span class="kw">do</span>
GLFW.initialize
GLFW.openWindow (<span class="dt">GL.Size</span> <span class="dv">640</span> <span class="dv">480</span>) [] <span class="dt">GLFW.Window</span>
GLFW.windowTitle <span class="fu">$=</span> <span class="st">&quot;GLFW Demo&quot;</span>
onDisplay
GLFW.closeWindow
GLFW.terminate

<span class="ot">onDisplay ::</span> <span class="dt">IO</span> ()
onDisplay <span class="fu">=</span> <span class="kw">do</span>
GL.clearColor <span class="fu">$=</span> <span class="dt">Color4</span> <span class="dv">1</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">1</span>
GL.clear [<span class="dt">ColorBuffer</span>]
GLFW.swapBuffers
onDisplay</code></pre>
<p><a href="https://github.com/madjestic/Haskell-OpenGL-Tutorial/tree/master/tutorial00">tutorial files on git</a></p>
<p>We will expand this example later with the following funcitonality: 1) A resize-window call back. That will make OpenGL to regenerate the window every time it is resized. 2) Escape-key call back. That will allow the window to be closed, when Excape key is pressed.</p>
<p>For now, signing off.</p>
</p>
							</div>
							<!-- /content -->

							<!-- FOOTER -->
							<footer>
									<p class="pull-right"><a href="#">Back to top</a></p>
									<p>© 2013 Company, Inc. · <a href="#">Privacy</a> · <a href="#">Terms</a></p>
							</footer>
							<!-- /FOOTER -->

					</div><!-- /.container -->

			</div><!-- /.container marketing-->

      <!-- Bootstrap core JavaScript
      ================================================== -->
      <!-- Placed at the end of the document so the pages load faster -->
      <script src="https://code.jquery.com/jquery-1.10.2.min.js"></script>
      <script src="../js/bootstrap.min.js"></script>
      <script src="../js/holder.js"></script>	

    </body>
</html>
